<form [formGroup]="form" novalidate class="form" (ngsubmit)="submit()">
  <div class="flex flex-col space-y-3 space-x-1 px-5 pt-2 w-1/2 relative">
    <mat-form-field class="w-full">
      <mat-label>Name</mat-label>
      <input
        type="text"
        matInput
        formControlName="name"
        [errorStateMatcher]="matcher"
      />
      @if(form.controls.name.hasError('required')){
      <mat-error>Name is required</mat-error>
      }
    </mat-form-field>
    <mat-form-field class="w-full">
      <mat-label>Email</mat-label>
      <input
        type="email"
        matInput
        formControlName="email"
        placeholder="email@mail.com"
      />

      @if(form.controls.email.hasError('required')){
      <mat-error>Email is required</mat-error>
      } @else if(form.controls.email.hasError('email')){
      <mat-error>Invalid email</mat-error>
      }
    </mat-form-field>
    <mat-form-field class="w-full">
      <mat-label>Password</mat-label>
      <input type="password" matInput formControlName="password" />
      @if(form.controls.password.hasError('required')){
      <mat-error>Password is required</mat-error>
      }
    </mat-form-field>
    <mat-form-field class="w-full">
      <mat-label>Repeat Password</mat-label>
      <input
        type="password"
        matInput
        formControlName="passwordRepeat"
        [errorStateMatcher]="matcher"
      />
      @if (form.controls.passwordRepeat.hasError('required')) {
      <mat-error>Repeat Password is required</mat-error>
      } @else if (form.controls.passwordRepeat.hasError('mismatch')){
      <mat-error>Passwords do not match</mat-error>
      }
    </mat-form-field>
    <div class="flex w-full space-x-2">
      <mat-form-field class="w-1/2">
        <mat-label>Role</mat-label>
        <mat-select formControlName="role" [errorStateMatcher]="matcher">
          <mat-option value="admin">Admin</mat-option>
          <mat-option value="user">User</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="w-1/2">
        <mat-label>Status</mat-label>
        <mat-select formControlName="status" [errorStateMatcher]="matcher">
          <mat-option value="1">Active</mat-option>
          <mat-option value="0">Inactive</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <button mat-flat-button (click)="submit()" class="w-1/3 self-end">Save</button>
  </div>
</form>
